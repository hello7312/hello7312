
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vocabulary Fill-in-the-Blank Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
    }
    h1 {
      text-align: center;
    }
    .section {
      margin-top: 30px;
    }
    .question {
      margin-bottom: 15px;
    }
    input {
      font-size: 16px;
      padding: 5px;
      width: 250px;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    button.speak {
      margin-left: 10px;
      padding: 3px 6px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <h1>Vocabulary Fill-in-the-Blank Test</h1>
  <p>Click ðŸ”Š to hear pronunciation. Click "Check Answers" to verify your responses.</p>

  <div class="section">
    <h2>Part A: Translate from Chinese to English</h2>
    <div id="ch2en"></div>
  </div>

  <div class="section">
    <h2>Part B: Translate from English to Chinese</h2>
    <div id="en2ch"></div>
  </div>

  <button onclick="checkAnswers()">Check Answers</button>

  <script>
    const vocab = [
      ["æ›¸åŒ…", "school bag"], ["æ›¸", "book"], ["é»ƒè‰²", "yellow"], ["è—è‰²", "blue"], ["é»‘è‰²", "black"],
      ["å’–å•¡è‰²", "brown"], ["ç´«è‰²", "purple"], ["å¸½å­", "hat"], ["å¤–å¥—", "coat"], ["æ´‹è£", "dress"],
      ["è¥¯è¡«", "shirt"], ["ç‹—", "dog"], ["é¼ ", "rat"], ["æ¯ç‰›", "cow"], ["ç¶¿ç¾Š", "sheep"],
      ["é›ž", "chicken"], ["é¤“çš„", "hungry"], ["ç”Ÿæ°£çš„", "angry"], ["åµé¬§çš„", "noisy"], ["æƒ³ç¡çš„", "sleep"],
      ["é‰›ç­†ç›’", "pencil case"], ["ç´…è‰²", "red"], ["ç¶ è‰²", "green"], ["ç²‰è‰²", "pink"], ["ç™½è‰²", "white"],
      ["æ©˜è‰²", "orange"], ["é¡è‰²", "color"], ["é´¨èˆŒå¸½", "cap"], ["å¤¾å…‹", "jacket"], ["è£™å­", "skirt"],
      ["T è¡«", "T-shirt"], ["è²“", "cat"], ["å…”å­", "rabbit"], ["é¦¬", "horse"], ["è±¬", "pig"],
      ["é´¨å­", "duck"], ["å£æ¸´çš„", "thirsty"], ["æ‡¶æƒ°çš„", "lazy"], ["å®‰éœçš„", "quiet"], ["ç–²ç´¯çš„", "tired"],
      ["ç”·å­©", "boy"], ["å¥³å­©", "girl"], ["å­¸ç”Ÿ", "student"], ["å¥¶å¥¶ï¼å¤–å©†", "grandmother"],
      ["çˆ¸çˆ¸", "father"], ["å§å¦¹", "sister"], ["é˜¿å§¨ï¼å§‘å§‘ï¼å¬¸å¬¸ï¼åª½åª½", "aunt"], ["å ‚ï¼è¡¨å…„å¼Ÿå§Šå¦¹", "cousin"],
      ["äºŒ", "two"], ["å››", "four"], ["å…­", "six"], ["å…«", "eight"], ["å", "ten"],
      ["ç”·äºº", "man"], ["è€å¸«", "teacher"], ["å¥³äºº", "woman"], ["çˆºçˆºï¼å¤–å…¬", "grandfather"],
      ["åª½åª½", "mother"], ["å…„å¼Ÿ", "brother"], ["å”å”ï¼èˆ…èˆ…ï¼åª½åª½", "uncle"], ["ä¸€", "one"],
      ["ä¸‰", "three"], ["äº”", "five"], ["ä¸ƒ", "seven"], ["ä¹", "nine"], ["ç˜¦çš„", "thin"],
      ["åœ“èƒ–çš„", "chubby"], ["çŸ®çš„", "short"], ["å¿«æ¨‚çš„", "happy"], ["å¹´è¼•çš„", "young"],
      ["å¹´è€çš„", "old"], ["å¯æ„›çš„", "cute"], ["é‰›ç­†", "pencil"], ["æ©¡çš®æ“¦", "eraser"],
      ["å°º", "ruler"], ["åŽŸå­ç­†", "pen"], ["æ›¸æ¡Œ", "desk"], ["æ¤…å­", "chair"]
    ];

    let maleVoice = null;
    window.speechSynthesis.onvoiceschanged = () => {
      const voices = window.speechSynthesis.getVoices();
      maleVoice = voices.find(v => v.name.toLowerCase().includes('english') && v.gender !== 'female' && v.name.toLowerCase().includes('male')) || voices.find(v => v.name.toLowerCase().includes('english') && v.name.toLowerCase().includes('david')) || voices[0];
    };

    function speak(text) {
      const msg = new SpeechSynthesisUtterance(text);
      msg.pitch = 1.2;
      msg.rate = 1.1;
      if (maleVoice) msg.voice = maleVoice;
      window.speechSynthesis.speak(msg);
    }

    function createQuestion(el, prompt, answer, reverse = false) {
      const div = document.createElement('div');
      div.className = 'question';
      const speakButton = `<button class='speak' onclick='speak("${reverse ? prompt : answer}")'>ðŸ”Š</button>`;
      div.innerHTML = `${prompt}: <input type='text' data-answer='${answer}'> ${speakButton}`;
      el.appendChild(div);
    }

    const ch2enContainer = document.getElementById('ch2en');
    const en2chContainer = document.getElementById('en2ch');

    vocab.forEach(pair => {
      createQuestion(ch2enContainer, pair[0], pair[1]);
      createQuestion(en2chContainer, pair[1], pair[0], true);
    });

    function checkAnswers() {
      document.querySelectorAll('input').forEach(input => {
        const correct = input.getAttribute('data-answer').trim().toLowerCase();
        const user = input.value.trim().toLowerCase();
        input.classList.remove('correct', 'incorrect');
        if (user === correct) {
          input.classList.add('correct');
        } else {
          input.classList.add('incorrect');
        }
      });
    }
  </script>
</body>
</html>
